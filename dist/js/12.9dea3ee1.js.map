{"version":3,"sources":["webpack:///./src/components/NetVideo/NetVideo.vue?b373","webpack:///./src/components/NetVideo/NetVideo.vue?e494","webpack:///src/components/NetVideo/NetVideo.vue","webpack:///./src/components/NetVideo/NetVideo.vue","webpack:///./src/components/NetVideo/NetVideo.vue?ff87"],"names":["name","mixins","data","mv","limit","offset","pullup","hasMore","active","area","order","components","BaseScroll","this","tabs","_getAllMv","filters","time","date","Date","methods","code","concat","_hasMore","title","length","$toast","loading","message","forbidClick","playList","clearTimeout","timer","setTimeout","bottom","document","querySelector","style","item","$router","push","path","watch","newValue","oldValue","component","_vm","_h","$createElement","_c","_self","ref","staticClass","attrs","on","onChanges","onClicks","model","value","callback","$$v","expression","_l","index","key","loadMoreVideo","$event","handleClick","cover","_v","_s","parseInt","playCount","artistName","directives","rawName"],"mappings":"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","file":"js/12.9dea3ee1.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"videos\",staticClass:\"videos\"},[_c('van-tabs',{attrs:{\"swipeable\":\"\"},on:{\"change\":_vm.onChanges,\"click\":_vm.onClicks},model:{value:(_vm.active),callback:function ($$v) {_vm.active=$$v},expression:\"active\"}},_vm._l((this.tabs),function(item,index){return _c('van-tab',{key:index,attrs:{\"title\":item.title}},[_c('base-scroll',{staticClass:\"video-content\",attrs:{\"data\":_vm.mv,\"pullup\":_vm.pullup},on:{\"scrollToEnd\":_vm.loadMoreVideo}},[_c('div',_vm._l((_vm.mv),function(item,index){return _c('div',{key:index+ '-only',staticClass:\"mv-image\",on:{\"click\":function($event){return _vm.handleClick(item)}}},[_c('img',{attrs:{\"src\":item.cover,\"alt\":\"\"}}),_vm._v(\" \"),_c('div',{staticClass:\"play-count\"},[_c('span',{staticClass:\"iconfont iconbofang2\"}),_vm._v(\"\\n              \"+_vm._s(parseInt(item.playCount/10000))+\"万\\n            \")]),_vm._v(\" \"),_c('div',{staticClass:\"title\"},[_c('span',{staticClass:\"song-name\"},[_vm._v(_vm._s(item.name))]),_vm._v(\" \"),_c('span',{staticClass:\"singer-name\"},[_vm._v(_vm._s(item.artistName))])])])}),0)])],1)}),1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.mv.length),expression:\"!mv.length\"}],staticClass:\"loading-container\"},[_c('van-loading',{attrs:{\"type\":\"spinner\",\"color\":\"#1989fa\"}},[_vm._v(\"加载中...\")])],1),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"van-slide-up\"}},[_c('router-view')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js?cacheDirectory!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./NetVideo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js?cacheDirectory!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./NetVideo.vue?vue&type=script&lang=js&\"","<template>\r\n  <div ref=\"videos\" class=\"videos\">\r\n    <van-tabs @change=\"onChanges\" @click=\"onClicks\" v-model=\"active\" swipeable>\r\n      <van-tab :key=\"index\" v-for=\"(item,index) in this.tabs\" :title=\"item.title\">\r\n        <base-scroll :data=\"mv\" :pullup=\"pullup\" class=\"video-content\" @scrollToEnd=\"loadMoreVideo\">\r\n          <div>\r\n            <div\r\n              @click=\"handleClick(item)\"\r\n              :key=\"index+ '-only'\"\r\n              v-for=\"(item,index) in mv\"\r\n              class=\"mv-image\"\r\n            >\r\n              <img :src=\"item.cover\" alt />\r\n              <div class=\"play-count\">\r\n                <span class=\"iconfont iconbofang2\"></span>\r\n                {{ parseInt(item.playCount/10000) }}万\r\n              </div>\r\n              <div class=\"title\">\r\n                <span class=\"song-name\">{{ item.name }}</span>\r\n                <span class=\"singer-name\">{{ item.artistName }}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </base-scroll>\r\n      </van-tab>\r\n    </van-tabs>\r\n    <div class=\"loading-container\" v-show=\"!mv.length\">\r\n      <van-loading type=\"spinner\" color=\"#1989fa\">加载中...</van-loading>\r\n    </div>\r\n    <transition name=\"van-slide-up\">\r\n      <router-view></router-view>\r\n    </transition>\r\n  </div>\r\n</template>\r\n<script>\r\nimport BaseScroll from \"base/BaseScroll/BaseScroll.vue\";\r\nimport { getAllMv } from \"api/index.js\";\r\nimport { getDate } from \"common/js/until.js\";\r\nimport { playListMixin } from \"common/js/mixin.js\";\r\nexport default {\r\n  name: \"NetVideo\",\r\n  mixins: [playListMixin],\r\n  data() {\r\n    return {\r\n      mv: [],\r\n      limit: 20,\r\n      offset: 0,\r\n      pullup: true,\r\n      hasMore: true,\r\n      active: 0,\r\n      area: \"全部\",\r\n      order: \"最热\"\r\n    };\r\n  },\r\n  components: {\r\n    BaseScroll\r\n  },\r\n  created() {\r\n    this.tabs = [\r\n      { id: 1, title: \"全部\" },\r\n      { id: 2, title: \"内地\" },\r\n      { id: 3, title: \"港台\" },\r\n      { id: 4, title: \"欧美\" },\r\n      { id: 5, title: \"日本\" },\r\n      { id: 6, title: \"韩国\" }\r\n    ];\r\n    this._getAllMv();\r\n  },\r\n  filters: {\r\n    formateDate(time) {\r\n      let date = new Date(time);\r\n      return getDate(date);\r\n    }\r\n  },\r\n  methods: {\r\n    async _getAllMv() {\r\n      const { data, code } = await getAllMv(\r\n        this.area,\r\n        this.limit,\r\n        this.offset,\r\n        this.order\r\n      );\r\n      if (code === 200) {\r\n        this.mv = this.mv.concat(data);\r\n        this._hasMore(this.mv);\r\n      }\r\n    },\r\n    onClicks(name, title) {\r\n      this.area = title;\r\n    },\r\n    onChanges(name, title) {\r\n      this.area = title;\r\n    },\r\n    _hasMore(data) {\r\n      if (!data.length) {\r\n        this.hasMore = false;\r\n      }\r\n    },\r\n    loadMoreVideo() {\r\n      if (!this.hasMore) {\r\n        this.$toast(\"哥 已经到底了,没有数据了\");\r\n        return;\r\n      }\r\n      this.offset++;\r\n      this.$toast.loading({\r\n        message: \"加载中...\",\r\n        forbidClick: true\r\n      });\r\n      this._getAllMv();\r\n    },\r\n    handlePlaylist(playList) {\r\n      clearTimeout(this.timer);\r\n      this.timer = setTimeout(() => {\r\n        const bottom = playList.length > 0 ? \"60px\" : 0;\r\n        document.querySelector(\".videos\").style.bottom = bottom;\r\n      }, 90);\r\n    },\r\n    _getDate() {\r\n      getDate(this.updateTime);\r\n    },\r\n    handleClick(item) {\r\n      this.$router.push({\r\n        path: `/videos/${item.id}`\r\n      });\r\n    }\r\n  },\r\n  watch: {\r\n    area(newValue, oldValue) {\r\n      if (newValue === oldValue) {\r\n        return;\r\n      }\r\n      this.mv = [];\r\n      this._getAllMv();\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style lang='less' scoped>\r\n@import '~common/less/variable.less';\r\n@import '~common/less/mixin.less';\r\n\r\n.videos {\r\n  position: fixed;\r\n  top: 55px;\r\n  bottom: 0;\r\n  width: 100%;\r\n  overflow: hidden;\r\n\r\n  .loading-container {\r\n    position: fixed;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translateX(-50%);\r\n  }\r\n\r\n  .video-content {\r\n    position: fixed;\r\n    top: 100px;\r\n    bottom: 0;\r\n    width: 100%;\r\n    overflow: hidden;\r\n\r\n    .update-time {\r\n      padding-left: 20px;\r\n      line-height: 40px;\r\n      font-weight: 600;\r\n      font-size: @font-size-medium;\r\n    }\r\n\r\n    .mv-image {\r\n      padding: 0 20px 20px 20px;\r\n      position: relative;\r\n\r\n      img {\r\n        width: 100%;\r\n        border-radius: 5px;\r\n      }\r\n\r\n      .play-count {\r\n        position: absolute;\r\n        top: 5px;\r\n        right: 25px;\r\n        font-size: @font-size-small;\r\n\r\n        .iconbofang2 {\r\n          margin-right: 5px;\r\n        }\r\n      }\r\n\r\n      .title {\r\n        display: flex;\r\n        flex-direction: column;\r\n        overflow: hidden;\r\n\r\n        .song-name {\r\n          font-size: @font-size-medium;\r\n          .no-wrap;\r\n          font-weight: 600;\r\n          line-height: 40px;\r\n          color: @color-theme;\r\n        }\r\n\r\n        .singer-name {\r\n          font-size: @font-size-small;\r\n          color: @color-text-d;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import { render, staticRenderFns } from \"./NetVideo.vue?vue&type=template&id=ac49806a&scoped=true&\"\nimport script from \"./NetVideo.vue?vue&type=script&lang=js&\"\nexport * from \"./NetVideo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NetVideo.vue?vue&type=style&index=0&id=ac49806a&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ac49806a\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js!../../../node_modules/_css-loader@3.5.2@css-loader/dist/cjs.js??ref--5-1!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--5-2!../../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--5-3!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./NetVideo.vue?vue&type=style&index=0&id=ac49806a&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js!../../../node_modules/_css-loader@3.5.2@css-loader/dist/cjs.js??ref--5-1!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--5-2!../../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--5-3!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./NetVideo.vue?vue&type=style&index=0&id=ac49806a&lang=less&scoped=true&\""],"sourceRoot":""}