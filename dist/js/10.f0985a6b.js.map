{"version":3,"sources":["webpack:///./src/components/NetRank/NetRank.vue?6dc0","webpack:///src/components/NetRank/NetRank.vue","webpack:///./src/components/NetRank/NetRank.vue?816c","webpack:///./src/components/NetRank/NetRank.vue","webpack:///./src/components/NetRank/NetRank.vue?7384"],"names":["mixins","name","data","topList","title","officialList","methods","code","this","list","slice","$router","back","item","index","push","path","SET_TOPLIST","playList","setTimeout","bottom","length","$refs","$el","style","components","BaseScroll","SlideBar","_getTopList","component","_vm","_h","$createElement","_c","_self","ref","staticClass","attrs","_v","_l","key","on","$event","selectRankItem","directives","rawName","value","expression","subItem","_s","first","second","_e","updateFrequency"],"mappings":"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","file":"js/10.f0985a6b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"rank\",staticClass:\"rank\"},[_c('slide-bar',{attrs:{\"title\":_vm.title}}),_vm._v(\" \"),_c('base-scroll',{ref:\"topList\",staticClass:\"topList\",attrs:{\"data\":_vm.topList}},[_c('div',[_c('ul',[_c('h1',{staticClass:\"official-title\"},[_vm._v(\"官方榜\")]),_vm._v(\" \"),_vm._l((_vm.officialList),function(item,index){return _c('li',{key:index,staticClass:\"item\",on:{\"click\":function($event){return _vm.selectRankItem(item,index)}}},[_c('div',{staticClass:\"icon\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.coverImgUrl),expression:\"item.coverImgUrl\"}],attrs:{\"width\":\"100%\",\"height\":\"100%\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"songlist web-font\"},[_c('ul',_vm._l((item.tracks),function(subItem,index){return _c('li',{key:index,staticClass:\"songlist-item\"},[_c('span',{staticClass:\"songlist-index\"},[_vm._v(_vm._s(index+1)+\".\")]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(subItem.first)+\"-\"+_vm._s(subItem.second))])])}),0)])])})],2),_vm._v(\" \"),(_vm.topList.length)?_c('h1',{staticClass:\"official-title\"},[_vm._v(\"推荐榜\")]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"rank-list\"},_vm._l((_vm.topList),function(item,index){return _c('div',{key:index,staticClass:\"rank-list-item\",on:{\"click\":function($event){return _vm.selectRankItem(item,index=index+4)}}},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.coverImgUrl),expression:\"item.coverImgUrl\"}],staticClass:\"rank-list-img\",attrs:{\"width\":\"100%\"}}),_vm._v(\" \"),_c('p',{staticClass:\"rank-list-name\"},[_vm._v(_vm._s(item.name))]),_vm._v(\" \"),_c('p',{staticClass:\"rank-update\"},[_vm._v(_vm._s(item.updateFrequency))])])}),0),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!this.topList.length),expression:\"!this.topList.length\"}],staticClass:\"loading-container\"},[_c('van-loading',{attrs:{\"type\":\"spinner\",\"color\":\"#1989fa\"}},[_vm._v(\"加载中...\")])],1)])]),_vm._v(\" \"),_c('transition',[_c('router-view')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div ref=\"rank\" class=\"rank\">\r\n    <slide-bar :title=\"title\"></slide-bar>\r\n    <base-scroll ref=\"topList\" class=\"topList\" :data=\"topList\">\r\n      <div>\r\n        <ul>\r\n          <h1 class=\"official-title\">官方榜</h1>\r\n          <li\r\n            class=\"item\"\r\n            :key=\"index\"\r\n            v-for=\"(item,index) in officialList\"\r\n            @click=\"selectRankItem(item,index)\"\r\n          >\r\n            <div class=\"icon\">\r\n              <img width=\"100%\" height=\"100%\" v-lazy=\"item.coverImgUrl\" />\r\n            </div>\r\n            <div class=\"songlist web-font\">\r\n              <ul>\r\n                <li :key=\"index\" class=\"songlist-item\" v-for=\"(subItem,index) in item.tracks\">\r\n                  <span class=\"songlist-index\">{{index+1}}.</span>\r\n                  <span>{{subItem.first}}-{{subItem.second}}</span>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n        <h1 v-if=\"topList.length\" class=\"official-title\">推荐榜</h1>\r\n        <div class=\"rank-list\">\r\n          <div\r\n            :key=\"index\"\r\n            @click=\"selectRankItem(item,index=index+4)\"\r\n            class=\"rank-list-item\"\r\n            v-for=\"(item,index) in topList\"\r\n          >\r\n            <img class=\"rank-list-img\" width=\"100%\" v-lazy=\"item.coverImgUrl\" />\r\n            <p class=\"rank-list-name\">{{item.name}}</p>\r\n            <p class=\"rank-update\">{{item.updateFrequency}}</p>\r\n          </div>\r\n        </div>\r\n        <div class=\"loading-container\" v-show=\"!this.topList.length\">\r\n          <van-loading type=\"spinner\" color=\"#1989fa\">加载中...</van-loading>\r\n        </div>\r\n      </div>\r\n    </base-scroll>\r\n    <transition>\r\n      <router-view></router-view>\r\n    </transition>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { getToplist } from \"api/index.js\";\r\nimport BaseScroll from \"base/BaseScroll/BaseScroll.vue\";\r\nimport SlideBar from \"base/SlideBar/SlideBar.vue\";\r\nimport { mapMutations } from \"vuex\";\r\nimport { playListMixin } from \"common/js/mixin.js\";\r\nexport default {\r\n  mixins: [playListMixin],\r\n  name: \"rank\",\r\n  data() {\r\n    return {\r\n      topList: [],\r\n      title: \"排行榜\",\r\n      officialList: []\r\n    };\r\n  },\r\n  methods: {\r\n    async _getTopList() {\r\n      const { code, list } = await getToplist();\r\n      if (code === 200) {\r\n        this.officialList = list.slice(0, 4);\r\n        this.topList = list.slice(4);\r\n      }\r\n    },\r\n    rankBack() {\r\n      this.$router.back();\r\n    },\r\n    selectRankItem(item, index) {\r\n      this.$router.push({\r\n        path: `/rank/${index}`\r\n      });\r\n      this.SET_TOPLIST(item);\r\n    },\r\n    handlePlaylist(playList) {\r\n      // console.log(this.$refs.listView.$el)\r\n      // const bottom = playList.length > 0 ? '60px' : 0\r\n      // $el  Vue 实例使用的根 DOM 元素。理解为使用该组件的组件\r\n      // this.$refs.topList.style.bottom = bottom\r\n      // this.$refs.singer.refresh()\r\n      setTimeout(() => {\r\n        const bottom = playList.length > 0 ? \"60px\" : 0;\r\n        this.$refs.topList.$el.style.bottom = bottom;\r\n      }, 30);\r\n    },\r\n    ...mapMutations([\"SET_TOPLIST\"])\r\n  },\r\n  components: {\r\n    BaseScroll,\r\n    SlideBar\r\n  },\r\n  created() {\r\n    this._getTopList();\r\n  }\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n@import '~common/less/mixin.less';\r\n@import '~common/less/variable.less';\r\n\r\n.rank {\r\n  position: fixed;\r\n  top: 0;\r\n  bottom: 0;\r\n  width: 100%;\r\n  background-color: @color-background;\r\n\r\n  .topList {\r\n    width: 100%;\r\n    position: fixed;\r\n    top: 50px;\r\n    bottom: 0;\r\n    overflow: hidden;\r\n\r\n    .rank-list {\r\n      display: flex;\r\n      flex-wrap: wrap;\r\n      justify-content: space-between;\r\n      margin-top: 15px;\r\n      padding: 0 5px;\r\n      width: 100%;\r\n      box-sizing: border-box;\r\n\r\n      .rank-list-item {\r\n        width: 32.5%;\r\n        position: relative;\r\n        padding-bottom: 10px;\r\n\r\n        .rank-list-img {\r\n          border-radius: 5px;\r\n        }\r\n\r\n        .rank-list-name {\r\n          line-height: 1.5;\r\n          font-size: 12px;\r\n          overflow: hidden;\r\n          text-overflow: ellipsis;\r\n          white-space: nowrap;\r\n        }\r\n\r\n        .rank-update {\r\n          position: absolute;\r\n          left: 5px;\r\n          bottom: 40px;\r\n          font-size: 10px;\r\n        }\r\n      }\r\n    }\r\n\r\n    .official-title {\r\n      line-height: 50px;\r\n      padding-left: 25px;\r\n      font-weight: 600;\r\n      font-size: 20px;\r\n    }\r\n\r\n    .item {\r\n      display: flex;\r\n      padding: 20px 20px 0;\r\n      overflow: hidden;\r\n\r\n      .icon {\r\n        width: 100px;\r\n        height: 100px;\r\n        flex: 0 0 100px;\r\n\r\n        img {\r\n          border-radius: 5px;\r\n        }\r\n      }\r\n\r\n      .songlist {\r\n        flex: 1;\r\n        margin-left: 10px;\r\n        font-size: 10px;\r\n        background: #000;\r\n        padding: 10px 0 0 10px;\r\n        border-radius: 27px;\r\n\r\n        .songlist-item {\r\n          .no-wrap;\r\n          line-height: 26px;\r\n          width: 200px;\r\n          display: flex;\r\n\r\n          .songlist-index {\r\n            margin-right: 5px;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .loading-container {\r\n    position: fixed;\r\n    top: 50%;\r\n    left: 50%;\r\n    // transform translateX(-50%)\r\n    // transform translateY(-50%)\r\n    transform: translate3d(-50%, -50%, 0);\r\n  }\r\n\r\n  .v-enter {\r\n    transform: translate3d(0, -100%, 0);\r\n    opacity: 0;\r\n  }\r\n\r\n  .v-leave-to {\r\n    transform: translate3d(0, 100%, 0);\r\n    opacity: 1;\r\n  }\r\n\r\n  .v-enter-active, .v-leave-active {\r\n    transition: all 0.5s ease;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js?cacheDirectory!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./NetRank.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js?cacheDirectory!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./NetRank.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NetRank.vue?vue&type=template&id=3a50b7ac&scoped=true&\"\nimport script from \"./NetRank.vue?vue&type=script&lang=js&\"\nexport * from \"./NetRank.vue?vue&type=script&lang=js&\"\nimport style0 from \"./NetRank.vue?vue&type=style&index=0&id=3a50b7ac&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3a50b7ac\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js!../../../node_modules/_css-loader@3.5.2@css-loader/dist/cjs.js??ref--5-1!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--5-2!../../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--5-3!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./NetRank.vue?vue&type=style&index=0&id=3a50b7ac&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js!../../../node_modules/_css-loader@3.5.2@css-loader/dist/cjs.js??ref--5-1!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--5-2!../../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--5-3!../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./NetRank.vue?vue&type=style&index=0&id=3a50b7ac&lang=less&scoped=true&\""],"sourceRoot":""}