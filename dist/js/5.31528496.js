(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{235:function(t,e,a){"use strict";a.r(e);var s=a(42),i=a(103),r=a(248),o=a(18),l=a(232),n=a.n(l),c={name:"disc",props:{url:{type:String},cover:{type:String},autoplay:{type:Boolean,default:!1}},mounted(){this._initPlayer()},methods:{_initPlayer(){(this.url||this.cover)&&(this.player=new n.a({el:this.$refs.player,url:this.url,fluid:!0,poster:this.cover,autoplay:this.autoplay}))}},watch:{url(t,e){t&&t!==e&&(this.player?(this.player.src=t,this.player.reload()):this._initPlayer())}}},m=(a(290),a(8)),v=Object(m.a)(c,(function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"player",staticClass:"video-player"})}),[],!1,null,"34cac1fa",null).exports,u=a(245),d={name:"VideoDetail",data(){return{mvid:this.$route.params.id,data:{},url:"",cover:null,autoplay:!0,hotComments:[],comments:[],tabs:["评论","详情"],active:0,desc:"",title:"MV"}},components:{BaseScroll:s.a,VideoPlayer:v,MvComment:i.a,SlideBar:r.a},filters:{formateDate(t){let e=new Date(t);return Object(o.b)(e)}},created(){this._getMvData(this.mvid),this._getMvComment(this.mvid)},methods:{async _getMvData(t){const{data:e,code:a}=await Object(u.f)(t);200===a&&(this.data=e,this.url=e.brs[720]?e.brs[720]:e.brs[480],this.cover=e.cover,this.desc=e.desc)},async _getMvComment(t){const{hotComments:e,comments:a}=await Object(u.e)(t);this.hotComments=e,this.comments=a}}},h=(a(291),Object(m.a)(d,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"video-detail"},[a("slide-bar",{attrs:{title:t.title}}),t._v(" "),a("video-player",{ref:"player",attrs:{autoplay:t.autoplay,url:t.url,cover:t.cover}}),t._v(" "),a("div",{ref:"comment",staticClass:"hot-comment"},[a("van-tabs",{attrs:{swipeable:""},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},[a("van-tab",{attrs:{title:"评论"}},[a("base-scroll",{staticClass:"hot",attrs:{data:t.hotComments}},[a("div",[a("mv-comment",{attrs:{hotComments:t.hotComments}}),t._v(" "),a("mv-comment",{attrs:{title:"最近评论",hotComments:t.comments}})],1)])],1),t._v(" "),a("van-tab",{attrs:{title:"详情"}},[a("div",{staticClass:"desc"},[t._v(t._s(t.desc))])])],1)],1)],1)}),[],!1,null,"52e810d8",null));e.default=h.exports},265:function(t,e,a){},266:function(t,e,a){},290:function(t,e,a){"use strict";var s=a(265);a.n(s).a},291:function(t,e,a){"use strict";var s=a(266);a.n(s).a}}]);
//# sourceMappingURL=5.31528496.js.map