(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{242:function(t,e,a){"use strict";a.r(e);var s=a(42),i=a(245),n=a(18),o={name:"NetVideo",mixins:[a(246).a],data:()=>({mv:[],limit:20,offset:0,pullup:!0,hasMore:!0,active:0,area:"全部",order:"最热"}),components:{BaseScroll:s.a},created(){this.tabs=[{id:1,title:"全部"},{id:2,title:"内地"},{id:3,title:"港台"},{id:4,title:"欧美"},{id:5,title:"日本"},{id:6,title:"韩国"}],this._getAllMv()},filters:{formateDate(t){let e=new Date(t);return Object(n.b)(e)}},methods:{async _getAllMv(){const{data:t,code:e}=await Object(i.a)(this.area,this.limit,this.offset,this.order);200===e&&(this.mv=this.mv.concat(t),this._hasMore(this.mv))},onClicks(t,e){this.area=e},onChanges(t,e){this.area=e},_hasMore(t){t.length||(this.hasMore=!1)},loadMoreVideo(){this.hasMore?(this.offset++,this.$toast.loading({message:"加载中...",forbidClick:!0}),this._getAllMv()):this.$toast("哥 已经到底了,没有数据了")},handlePlaylist(t){clearTimeout(this.timer),this.timer=setTimeout(()=>{const e=t.length>0?"60px":0;document.querySelector(".videos").style.bottom=e},90)},_getDate(){Object(n.b)(this.updateTime)},handleClick(t){this.$router.push({path:"/videos/".concat(t.id)})}},watch:{area(t,e){t!==e&&(this.mv=[],this._getAllMv())}}},l=(a(289),a(8)),c=Object(l.a)(o,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"videos",staticClass:"videos"},[a("van-tabs",{attrs:{swipeable:""},on:{change:t.onChanges,click:t.onClicks},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},t._l(this.tabs,(function(e,s){return a("van-tab",{key:s,attrs:{title:e.title}},[a("base-scroll",{staticClass:"video-content",attrs:{data:t.mv,pullup:t.pullup},on:{scrollToEnd:t.loadMoreVideo}},[a("div",t._l(t.mv,(function(e,s){return a("div",{key:s+"-only",staticClass:"mv-image",on:{click:function(a){return t.handleClick(e)}}},[a("img",{attrs:{src:e.cover,alt:""}}),t._v(" "),a("div",{staticClass:"play-count"},[a("span",{staticClass:"iconfont iconbofang2"}),t._v("\n              "+t._s(parseInt(e.playCount/1e4))+"万\n            ")]),t._v(" "),a("div",{staticClass:"title"},[a("span",{staticClass:"song-name"},[t._v(t._s(e.name))]),t._v(" "),a("span",{staticClass:"singer-name"},[t._v(t._s(e.artistName))])])])})),0)])],1)})),1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.mv.length,expression:"!mv.length"}],staticClass:"loading-container"},[a("van-loading",{attrs:{type:"spinner",color:"#1989fa"}},[t._v("加载中...")])],1),t._v(" "),a("transition",{attrs:{name:"van-slide-up"}},[a("router-view")],1)],1)}),[],!1,null,"ac49806a",null);e.default=c.exports},264:function(t,e,a){},289:function(t,e,a){"use strict";var s=a(264);a.n(s).a}}]);
//# sourceMappingURL=12.9dea3ee1.js.map